<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–ú–æ–π –¥–µ–Ω—å</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="/public/manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#007aff">
</head>
<body>
    <div class="app">
        <nav class="tab-bar">
            <button class="tab-btn active" data-screen="profile"><span class="tab-icon">üë§</span><span class="tab-label">–ü—Ä–æ—Ñ–∏–ª—å</span></button>
            <button class="tab-btn" data-screen="notes"><span class="tab-icon">üìù</span><span class="tab-label">–ó–∞–º–µ—Ç–∫–∏</span></button>
            <button class="tab-btn" data-screen="habits"><span class="tab-icon">‚úÖ</span><span class="tab-label">–ü—Ä–∏–≤—ã—á–∫–∏</span></button>
            <button class="tab-btn" data-screen="stats"><span class="tab-icon">üìä</span><span class="tab-label">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span></button>
        </nav>

        <main class="content">
            <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
            <section class="screen active" id="profileScreen">
                <div class="avatar-section">
                    <div class="avatar" id="avatarDisplay">üë§</div>
                    <input type="file" id="avatarUpload" accept="image/*" style="display: none">
                    <button class="btn btn-secondary" id="changeAvatarBtn">–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ç–æ</button>
                </div>
                <div class="profile-header"><h2 id="profileNameDisplay">–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤</h2></div>
                <div class="form-group"><label>–ò–º—è</label><input type="text" id="profileName" class="form-input" value="–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"></div>
                <div class="form-group"><label>–û —Å–µ–±–µ</label><textarea id="profileBio" class="form-input" rows="2">–°—Ç—É–¥–µ–Ω—Ç –°–ü–û, —É—á—É—Å—å –º–æ–±–∏–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</textarea></div>
                <div class="form-group"><label>–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</label><input type="date" id="profileBirthday" class="form-input"></div>
                <button class="btn btn-primary" id="saveProfileBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <div class="hint" id="profileHint">–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã</div>
            </section>

            <!-- –ó–∞–º–µ—Ç–∫–∏ -->
            <section class="screen" id="notesScreen">
                <div class="notes-header">
                    <input type="text" id="noteTitle" class="form-input" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫">
                    <textarea id="noteContent" class="form-input" rows="3" placeholder="–¢–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏..."></textarea>
                    <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                        <button class="btn btn-small btn-secondary" id="insertBulletListBtn">‚Ä¢ –ú–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</button>
                        <button class="btn btn-small btn-secondary" id="insertNumberListBtn">1. –ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π</button>
                    </div>
                    <button class="btn btn-primary" id="addNoteBtn">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É</button>
                </div>
                <div class="notes-grid" id="notesList"></div>
            </section>

            <!-- –ü—Ä–∏–≤—ã—á–∫–∏ -->
            <section class="screen" id="habitsScreen">
                <div class="habits-header"><h3>–°–µ–≥–æ–¥–Ω—è</h3><span class="date" id="todayDate"></span></div>
                <div class="habits-list">
                    <div class="habit-item">
                        <div class="habit-header"><span class="habit-name">üíß –í–æ–¥–∞</span><span class="habit-value" id="waterTotal">0 –ª</span></div>
                        <div class="habit-progress"><input type="number" id="waterInput" min="0" step="0.1" placeholder="0.5 –ª"><button id="addWaterBtn">+</button></div>
                        <div class="habit-total" id="waterHistory"></div>
                    </div>
                    <div class="habit-item">
                        <div class="habit-header"><span class="habit-name">üèÉ –°–ø–æ—Ä—Ç</span><span class="habit-value" id="sportTotal">0 –º–∏–Ω</span></div>
                        <div class="habit-progress"><input type="number" id="sportInput" min="0" step="5" placeholder="15 –º–∏–Ω"><button id="addSportBtn">+</button></div>
                        <div class="habit-total" id="sportHistory"></div>
                    </div>
                    <div class="habit-item">
                        <div class="habit-header"><span class="habit-name">üìö –ß—Ç–µ–Ω–∏–µ</span><span class="habit-value" id="readTotal">0 –º–∏–Ω</span></div>
                        <div class="habit-progress"><input type="number" id="readInput" min="0" step="5" placeholder="30 –º–∏–Ω"><button id="addReadBtn">+</button></div>
                        <div class="habit-total" id="readHistory"></div>
                    </div>
                </div>
                <button class="btn btn-primary" id="saveHabitsBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
                <div class="hint" id="habitsHint">–ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω</div>
            </section>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <section class="screen" id="statsScreen">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-value" id="statStreak">0</div><div class="stat-label">–¥–Ω–µ–π –ø–æ–¥—Ä—è–¥</div></div>
                    <div class="stat-card"><div class="stat-value" id="statTotalWater">0 –ª</div><div class="stat-label">–≤—Å–µ–≥–æ –≤–æ–¥—ã</div></div>
                    <div class="stat-card"><div class="stat-value" id="statNotes">0</div><div class="stat-label">–∑–∞–º–µ—Ç–æ–∫</div></div>
                </div>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-value" id="statTotalSport">0 –º–∏–Ω</div><div class="stat-label">—Å–ø–æ—Ä—Ç–∞</div></div>
                    <div class="stat-card"><div class="stat-value" id="statTotalRead">0 –º–∏–Ω</div><div class="stat-label">—á—Ç–µ–Ω–∏—è</div></div>
                    <div class="stat-card"><div class="stat-value" id="statTotalAll">0</div><div class="stat-label">–≤—Å–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏–π</div></div>
                </div>
                <div class="week-section">
                    <h4>–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–Ω—å</h4>
                    <div class="week-grid" id="weekStats"></div>
                    <div class="day-notes" id="dayNotesContainer" style="display: none;">
                        <h5>–ó–∞–º–µ—Ç–∫–∏ –∑–∞ –¥–µ–Ω—å <span id="selectedDate"></span></h5>
                        <div id="dayNotesList"></div>
                        <textarea id="dayNoteInput" class="form-input" rows="2" placeholder="–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞ –∑–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å..."></textarea>
                        <button class="btn btn-primary btn-small" id="addDayNoteBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>
                </div>
                <button class="btn btn-secondary" id="resetDataBtn">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</button>
            </section>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏ -->
    <div class="edit-modal hidden" id="editModal">
        <div class="edit-modal-content">
            <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫—É</h3>
            <input type="text" id="editTitle" class="form-input" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫">
            <textarea id="editContent" class="form-input" rows="4" placeholder="–¢–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏..."></textarea>
            <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                <button class="btn btn-small btn-secondary" id="editBulletListBtn">‚Ä¢ –°–ø–∏—Å–æ–∫</button>
                <button class="btn btn-small btn-secondary" id="editNumberListBtn">1. –°–ø–∏—Å–æ–∫</button>
            </div>
            <div class="edit-modal-actions">
                <button class="btn btn-secondary" id="cancelEditBtn">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" id="saveEditBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>